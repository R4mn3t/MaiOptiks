<!DOCTYPE html>
<html lang="de" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org/">
<head>
    <meta charset="UTF-8">
    <title th:text="${title}"></title>
    <link rel="stylesheet" th:href="@{/css/main.css}"/>
    <link rel="stylesheet" th:href="@{/css/startseite-style.css}"/>
    <script th:src="@{/scripts/main.js}" type="text/javascript"></script>
</head>
<body>
<div class="title-bar">
    <h1 class="heading">Kunde</h1>
</div>

<div class="vertical-bar">
    <p></p>
</div>

<div class="customerButton-searchField">
    <div class="customers">
        <button class="button customer-button" onclick="openLink('/auftrag')" type="button">Auftrag</button>
    </div>

    <div class="search-fields">
        <input class="input" id="name" placeholder="Name" type="text"/><br>
        <input class="input" id="lastname" placeholder="Vorname" type="text"/><br>
        <button class="button submit-button" onclick="searchCustomer()">Suchen</button>
    </div>
</div>

<div class="table-container">
    <table class="kunde">
        <tr>
            <th>Kunden-Nr.</th>
            <th>Anrede</th>
            <th>Name</th>
            <th>Vorname</th>
            <th>Straße</th>
            <th>HausNr.</th>
            <th>PLZ</th>
            <th>Geburtsdatum</th>
            <th>TelefonNr.</th>
            <th>Handy</th>
            <th>E-Mail</th>
            <th>KrankenkassenNr.</th>
            <th>VersicherungsNr.</th>
            <th>Gültigkeit</th>
            <th>Bemerkung</th>
        </tr>
        <tr>
            <td>1</td>
            <td>Herr</td>
            <td>Max</td>
            <td>Mustermann</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    </table>
</div>

<div class="direction-buttons">
    <button class="button direction-button" onclick="openLink('./')">Startseite</button>
    <button class="button direction-button" onclick="openLink('/neuer-kunde')">Neuer Kunde</button>
    <button class="button direction-button" onclick="openLink('/organisation')">Organisation</button>
    <button class="button direction-button" onclick="openLink('/führerscheinsehtest')">Führerschein-Sehtest</button>
</div>

</body>
<script>
    function searchCustomer() {
        let vorname = document.getElementById('name').value;
        let name = document.getElementById('lastname').value;
        let data = null;

        if (vorname !== '' && name !== '') {
            data = {"name": name, "vorname": vorname}
        } else {
            window.alert('Bitte geben Sie Vor- und Nachname ein');
        }

        doRequest('GET', '/api/kundes', data);
    }
</script>
</html>